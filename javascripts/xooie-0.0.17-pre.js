/*
*   Copyright 2012 Comcast
*
*   Licensed under the Apache License, Version 2.0 (the "License");
*   you may not use this file except in compliance with the License.
*   You may obtain a copy of the License at
*
*       http://www.apache.org/licenses/LICENSE-2.0
*
*   Unless required by applicable law or agreed to in writing, software
*   distributed under the License is distributed on an "AS IS" BASIS,
*   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
*   See the License for the specific language governing permissions and
*   limitations under the License.
*/
define("xooie/helpers",["jquery"],function(){var t={};return t.toAry=function(t){return"string"==typeof t?t.split(/\s+/):t instanceof Array?t:void 0},t.toInt=function(t){return parseInt(t,10)},t.isArray=Array.isArray||function(t){return"[object Array]"===Array.prototype.toString(t)},t.isObject=function(t){return"[object Object]"===Object.prototype.toString(t)},t.isUndefined=function(t){return void 0===t},t.isFunction=function(t){return"function"==typeof t},t}),/*
*   Copyright 2012 Comcast
*
*   Licensed under the Apache License, Version 2.0 (the "License");
*   you may not use this file except in compliance with the License.
*   You may obtain a copy of the License at
*
*       http://www.apache.org/licenses/LICENSE-2.0
*
*   Unless required by applicable law or agreed to in writing, software
*   distributed under the License is distributed on an "AS IS" BASIS,
*   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
*   See the License for the specific language governing permissions and
*   limitations under the License.
*/
define("xooie/stylesheet",["jquery"],function(t){var e=function(e){var n;if(this.element=t("style[id="+e+"]"),this.element.length<=0&&(this.element=t(['<style id="'+e+'">',"/* This is a dynamically generated stylesheet: "+e+" */","</style>"].join("")),this.element.appendTo(t("head"))),document.styleSheets)for(n=0;n<document.styleSheets.length;n+=1)document.styleSheets[n].ownerNode.getAttribute("id")===e&&(this._index=n)};return e.prototype.get=function(){return document.styleSheets[this._index]},e.prototype.getRule=function(t){t=t.toLowerCase();var e,n;for(n=this.get().cssRules||this.get().rules,e=0;e<n.length;e+=1)if(n[e].selectorText.toLowerCase()===t)return n[e];return!1},e.prototype.addRule=function(t,e){var n,i,o=this.getRule(t),s="";if(!o){for(i in e)s+=i+": "+e[i]+";";this.get().insertRule?(n=this.get().cssRules.length,this.get().insertRule(t+" {"+s+"}",n),o=this.get().cssRules[n]):(n=this.get().rules.length,this.get().addRule(t,s,n),o=this.get().rules[n])}return o},e.prototype.deleteRule=function(t){t=t.toLowerCase();var e,n;for(n=this.get().cssRules||this.get().rules,e=0;e<n.length;e+=1)if(n[e].selectorText.toLowerCase()===t)return this.get().deleteRule?this.get().deleteRule(e):this.get().removeRule(e),!0;return!1},e});/*
*   Copyright 2012 Comcast
*
*   Licensed under the Apache License, Version 2.0 (the "License");
*   you may not use this file except in compliance with the License.
*   You may obtain a copy of the License at
*
*       http://www.apache.org/licenses/LICENSE-2.0
*
*   Unless required by applicable law or agreed to in writing, software
*   distributed under the License is distributed on an "AS IS" BASIS,
*   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
*   See the License for the specific language governing permissions and
*   limitations under the License.
*/
var $X,Xooie;$X=Xooie=function(t){function e(t,e){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function n(){"undefined"!=typeof Xooie.cleanup&&Xooie.cleanup()}var i={widgets:{},addons:{}},o=function(){return!1},s=null;return o.config=function(t){var o;for(o in t)t.hasOwnProperty(o)&&("widgets"===o||"addons"==o?e(i[o],t[o]):i[o]=t[o]);"undefined"!=typeof t.cleanupInterval&&(s=clearInterval(s),i.cleanupInterval>0&&(s=setInterval(n,i.cleanupInterval)))},o._mapName=function(t,e){return"undefined"==typeof i[e][t]?[i.root,"/",e,"/",t].join(""):i[e][t]},o.config({root:"xooie",cleanupInterval:0}),t&&o.config(t),o}(Xooie),define("xooie/xooie",["jquery","xooie/helpers","xooie/stylesheet"],function(t,e,n){var i=Xooie.config,o=Xooie._mapName,s="[data-widget-type]";return widgetDataAttr="widgetType",addonDataAttr="addons",$X=Xooie=function(n){var i,o,r,a,d,l,u;for(n=t(n),i=n.find(s),n.is(s)&&(i=i.add(n)),r=[],l=0;l<i.length;l+=1){for(a=t(i[l]),o=e.toAry(a.data(widgetDataAttr)),u=0;u<o.length;u+=1)d=$X._mapName(o[u],"widgets"),-1===r.indexOf(d)&&r.push(d);for(o=e.toAry(a.data(addonDataAttr))||[],u=0;u<o.length;u+=1)d=$X._mapName(o[u],"addons"),-1===r.indexOf(d)&&r.push(d)}require(r,function(){var n,o,s,a,d,l,u,h,c;for(u=0;u<i.length;u+=1)for(s=t(i[u]),n=e.toAry(s.data(widgetDataAttr)),o=e.toAry(s.data(addonDataAttr))||[],h=0;h<n.length;h+=1){for(l=r.indexOf($X._mapName(n[h],"widgets")),d=arguments[l],a=[],c=0;c<o.length;c+=1)l=r.indexOf($X._mapName(o[c],"addons")),a.push(arguments[l]);new d(s,a)}})},Xooie.config=i,Xooie._mapName=o,Xooie._stylesheet=new n("Xooie"),Xooie._styleRules={},Xooie._instanceCache=[],Xooie._instanceIndex=0,Xooie.cleanup=function(){var t,e;for(t=0;t<$X._instanceCache.length;t++)e=$X._instanceCache[t],e.root()&&0===e.root().parents("body").length&&(e.cleanup(),delete $X._instanceCache[t])},Xooie}),require(["jquery","xooie/xooie"],function(t,e){t(document).ready(function(){e(t(this))})}),define("xooie/shared",["jquery"],function(t){function e(t){return{getter:"_get_"+t,setter:"_set_"+t,processor:"_process_"+t,validator:"_validate_"+t,defaultValue:"_default_value_"+t,value:"_"+t}}function n(t,n){var i=e(t);"function"!=typeof n[t]&&(n._definedProps.push(t),n[t]=function(t){return"undefined"==typeof t?this[i.getter]():this[i.setter](t)})}var i={defineReadOnly:function(t,i,o){var s=e(i);n(i,t.prototype),t.prototype[s.defaultValue]=o,"function"!=typeof t.prototype[s.getter]&&(t.prototype[s.getter]=function(){var t="undefined"!=typeof this[s.value]?this[s.value]:this[s.defaultValue];return"function"==typeof this[s.processor]?this[s.processor](t):t})},defineWriteOnly:function(t,i){var o=e(i);n(i,t.prototype),"function"!=typeof t.prototype[o.setter]&&(t.prototype[o.setter]=function(t){("function"!=typeof this[o.validator]||this[o.validator](i))&&(this[o.value]=t)})},extend:function(e,n){var i=function(){return function(){n.apply(this,arguments),e.apply(this,arguments),this._extendCount-=1}}();return t.extend(!0,i,n),t.extend(!0,i.prototype,n.prototype),i.prototype._extendCount=null===i.prototype._extendCount?1:i.prototype._extendCount+=1,i},get:function(t,n){var i=e(n);return t[i.getter]()},set:function(t,n,i){var o=e(n);"function"==typeof t[o.setter]&&t[o.setter](i)}};return i}),define("xooie/keyboard_navigation",["jquery","xooie/helpers"],function(t,e){function n(n,i){var o,s,r,a,d,l=[];return s={unindexed:["[data-widget-type] a[href]:visible:not(:disabled):not([tabindex])","[data-widget-type] button:visible:not(:disabled):not([tabindex])","[data-widget-type] input:visible:not(:disabled):not([tabindex])","[data-widget-type] select:visible:not(:disabled):not([tabindex])","[data-widget-type] textarea:visible:not(:disabled):not([tabindex])","[data-widget-type] [tabindex=0]:visible:not(:disabled)"].join(","),indexed:function(t){return t>0?"[data-widget-type] [tabindex="+t+"]:visible:not(:disabled)":void 0},allIndexed:"[data-widget-type] [tabindex]:visible:not(:disabled)"},n=t(n),!n.is(s.unindexed)&&!n.is(s.allIndexed)&&(t(s.allIndexed).each(function(){var n=e.toInt(t(this).attr("tabindex"));-1===l.indexOf(n)&&n>0&&l.push(n)}),l.length>0?(l.sort(function(t,e){return t-e}),d=t(s.indexed(l[0])).first()):d=t(s.unindexed).first(),d.length>0)?(d.focus(),void 0):(r=e.toInt(n.attr("tabindex")),o=r?s.indexed(r):s.unindexed,a=n.index(o),a+i>=0&&(d=t(o).eq(a+i),d.length>0)?(d.focus(),void 0):((1!==i||r)&&(1!==i||isNaN(r)?-1===i&&isNaN(r)?(t(s.allIndexed).each(function(){var n=e.toInt(t(this).attr("tabindex"));-1===l.indexOf(n)&&l.push(n)}),l.length>0&&(l.sort(function(t,e){return e-t}),r=l[0],d=t(s.indexed(r)).last())):-1===i&&!isNaN(r)&&r>0&&(t(s.allIndexed).each(function(){var n=e.toInt(t(this).attr("tabindex"));r>n&&-1===l.indexOf(n)&&n>0&&l.push(n)}),l.length>0&&(l.sort(function(t,e){return t-e}),r=l[0],d=t(s.indexed(r)).last())):(t(s.allIndexed).each(function(){var n=e.toInt(t(this).attr("tabindex"));n>r&&-1===l.indexOf(n)&&n>0&&l.push(n)}),l.length>0?(l.sort(function(t,e){return t-e}),r=l[0],d=t(s.indexed(r)).first()):d=t(s.unindexed).first()),e.isUndefined(d)||d.focus()),void 0))}var i,o;o={37:function(e){n(t(e.target),-1),e.preventDefault()},38:function(){},39:function(e){n(t(e.target),1),e.preventDefault()},40:function(){}};var s;return i=function(){return s?s:(t(document).on("keyup",function(t){e.isFunction(o[t.which])&&o[t.which](t)}),s=this,void 0)}}),/*
* Copyright 2012 Comcast
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*     http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
define("xooie/widgets/base",["jquery","xooie/xooie","xooie/helpers","xooie/shared","xooie/keyboard_navigation"],function(t,e,n,i){function o(t){return{processor:"_process_role_"+t,renderer:"_render_role_"+t,getter:"_get_role_"+t,pluralName:t+"s",selector:"[data-x-role="+t+"]"}}function s(t,e){var i=o(t);n.isUndefined(e[i.pluralName])&&(e._definedRoles.push(t),e[i.pluralName]=function(){return this[i.getter]()})}function r(t){if("undefined"!=typeof t){var n=e._instanceIndex;return e._instanceIndex+=1,"undefined"==typeof e._instanceCache[n]?(e._instanceCache[n]=t,n):r(t)}}var a;return t.event.special["xooie-init"]={add:function(e){var n=t(this).data("xooieInstance");if("undefined"!=typeof n){var i=t.Event("xooie-init");i.namespace=e.namespace,i.data=e.data,e.handler.call(this,i)}}},a=function(n,i){var o=this;if(n=t(n),this._setData(n.data()),n.data("xooieInstance")){if("undefined"!=typeof e._instanceCache[n.data("xooieInstance")])return n.trigger(this.get("refreshEvent")),e._instanceCache[n.data("xooieInstance")];this.cleanup()}n.on(this.get("initEvent")+" "+this.get("refreshEvent"),function(){o._applyRoles()});var s=r(this);this.set("id",s),this.set("root",n),n.addClass(this.get("className")).addClass(this.get("instanceClass"));var a=function(){var t;if(!o._extendCount||o._extendCount<=0){if("undefined"!=typeof i)for(t=0;t<i.length;t+=1)new i[t](o);n.attr("data-xooie-instance",s),n.trigger(o.get("initEvent")),o._extendCount=null}else setTimeout(a,0)};this._extendCount>0?setTimeout(a,0):a()},a._renderMethods={micro_template:function(e,n){return"undefined"!=typeof e.micro_render?t(e.micro_render(n)):!1},mustache:function(e,n){return"undefined"!=typeof Mustache&&"undefined"!=typeof Mustache.render?t(Mustache.render(e.html(),n)):!1},jsrender:function(e,n){return"undefined"!=typeof e.render?t(e.render(n)):!1},underscore:function(e,n){return"undefined"!=typeof _&&"undefined"!=typeof _.template?t(_.template(e.html())(n).trim()):!1}},a.defineWriteOnly=function(t){i.defineWriteOnly(this,t)},a.defineReadOnly=function(t,e){i.defineReadOnly(this,t,e)},a.define=function(t,e){this.defineReadOnly(t,e),this.defineWriteOnly(t)},a.defineRole=function(t){var e=o(t);s(t,this.prototype),n.isFunction(this.prototype[e.getter])||(this.prototype[e.getter]=function(){return this.root().find(e.selector)})},a.extend=function(t){return i.extend(t,this)},a.createStyleRule=function(t,n){return"undefined"!=typeof e._stylesheet.addRule?e._stylesheet.addRule(t,n):void 0},a.getStyleRule=function(t){return e._styleRules.hasOwnProperty(t)?e._styleRules[t]:e._stylesheet.getRule(t)},a.prototype._definedProps=[],a.prototype._definedRoles=[],a.prototype._extendCount=null,a.define("id"),a.define("root"),a.define("namespace",""),a.define("templateLanguage","micro_template"),a.defineReadOnly("addons"),a.defineReadOnly("refreshEvent","xooie-refresh"),a.defineReadOnly("initEvent","xooie-init"),a.defineReadOnly("className","is-instantiated"),a.defineReadOnly("instanceClass"),a.prototype._setData=function(t){var e;for(e=0;e<this._definedProps.length;e+=1)"undefined"!=typeof t[this._definedProps[e]]&&this.set(this._definedProps[e],t[this._definedProps[e]])},a.prototype.get=function(t){return i.get(this,t)},a.prototype.set=function(t,e){return i.set(this,t,e)},a.prototype.cleanup=function(){var t;for(t in this.addons())this.addons().hasOwnProperty(t)&&this.addons()[t].cleanup();this.root().removeClass(this.className()),this.root().removeClass(this.instanceClass()),this.root().attr("data-xooie-instance",!1)},a.prototype.render=function(e,n){var i=e.data("templateLanguage")||this.templateLanguage(),o=a._renderMethods[i](e,n);return o===!1?t("<span>Error rendering template</span>"):o},a.prototype._getRoleId=function(t,e){return"x-"+this.id()+"-"+t+"-"+e},a.prototype._applyRoles=function(){var e,i,s,r;for(e=0;e<this._definedRoles.length;e+=1){if(s=o(this._definedRoles[e]),r=this[s.getter](),0===r.length&&n.isFunction(this[s.renderer])&&(r=this[s.renderer]()),n.isUndefined(r))return;for(i=0;i<r.length;i+=1)t(r[i]).attr("id",this._getRoleId(this._definedRoles[e],i));n.isFunction(this[s.processor])&&this[s.processor](r)}},a.prototype._process_addons=function(t){return"undefined"==typeof t&&(t=this._addons={}),t},a.prototype._process_refreshEvent=function(t){return""===this.namespace()?t:t+"."+this.namespace()},a.prototype._process_initEvent=function(t){return""===this.namespace()?t:t+"."+this.namespace()},a.prototype._process_className=function(t){return""===this.namespace()?t:t+"-"+this.namespace()},a.prototype._process_instanceClass=function(){return""===this.namespace()?"widget-"+this.id():this.namespace()+"-"+this.id()},a}),/*
*   Copyright 2012 Comcast
*
*   Licensed under the Apache License, Version 2.0 (the "License");
*   you may not use this file except in compliance with the License.
*   You may obtain a copy of the License at
*
*       http://www.apache.org/licenses/LICENSE-2.0
*
*   Unless required by applicable law or agreed to in writing, software
*   distributed under the License is distributed on an "AS IS" BASIS,
*   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
*   See the License for the specific language governing permissions and
*   limitations under the License.
*/
define("xooie/event_handler",["jquery","xooie/helpers"],function(t,e){function n(t,e){return"undefined"==typeof e?t:t+"."+e}var i=function(t){this.namespace=t,this.handlers={},this._callbacks={}};return i.prototype.add=function(i,o){var s,r,a=this;if(e.isObject(i)&&e.isUndefined(o))for(r in i)e.isFunction(i[r])&&this.add(r,i[r]);else s=n(i,this.namespace),e.isUndefined(this.handlers[s])&&(this.handlers[s]=function(t){a.fire(t,this,arguments)}),e.isUndefined(this._callbacks[i])&&(this._callbacks[i]=t.Callbacks("unique")),this._callbacks[i].add(o)},i.prototype.clear=function(t){delete this.handlers[n(t,this.namespace)],e.isUndefined(this._callbacks[t])||this._callbacks[t].empty()},i.prototype.fire=function(t,n,i){t.namespace&&t.namespace!==this.namespace||e.isUndefined(this._callbacks[t.type])||this._callbacks[t.type].fireWith(n,i)},i}),/*
*   Copyright 2012 Comcast
*
*   Licensed under the Apache License, Version 2.0 (the "License");
*   you may not use this file except in compliance with the License.
*   You may obtain a copy of the License at
*
*       http://www.apache.org/licenses/LICENSE-2.0
*
*   Unless required by applicable law or agreed to in writing, software
*   distributed under the License is distributed on an "AS IS" BASIS,
*   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
*   See the License for the specific language governing permissions and
*   limitations under the License.
*/
define("xooie/widgets/carousel",["jquery","xooie/helpers","xooie/widgets/base","xooie/event_handler"],function(t,e,n,i){function o(t){t=t.toLowerCase();var e=t.match(/^control:(left|right|goto)\s(\d+)(?:st|nd|rd|th)?\s(.*)$/);return null===e&&(e=t.match(/^control:(left|right)()\s(continuous)$/)),null!==e?e.slice(1):void 0}var s,r;return r={resize:null},t(window).on("resize",function(){null!==r.resize&&(clearTimeout(r.resize),r.resize=null),s._cache.length>0&&(r.resize=setTimeout(function(){s._cache.trigger(s.prototype.resizeEvent())},100))}),s=n.extend(function(){function n(t,e){clearInterval(a._timers.continuous),a._timers.continuous=setInterval(function(e){t.is(":disabled")&&(a._timers.continuous=clearInterval(a._timers.continuous)),a.scrollTo(a.wrappers().scrollLeft()+5*e)},0,["right"===e?1:-1])}function r(){a._timers.scroll=clearTimeout(a._timers.scroll),a.updateLimits()}var a=this;this._timers={scroll:0,continuous:0},this._positioners={item:function(t,n){var i,o,s;i=this.items(),n=e.toInt(n),isNaN(n)||("goto"===t&&1>n&&n<=i.length?o=Math.round(i.eq(n-1).position().left):(s=this.currentItem("right"===t),t="left"===t?-1:1,s=Math.max(0,Math.min(i.length-1,s+t*n)),o=this.wrappers().scrollLeft()+Math.round(i.eq(s).position().left)),this.scrollTo(o))},items:function(){return this._positioners.item.apply(this,arguments)},pixel:function(t,n){var i;n=e.toInt(n),isNaN(n)||("goto"===t&&n>=0?i=n:(t="left"===t?-1:1,i=this.wrappers().scrollLeft()+t*n),this.scrollTo(i))},pixels:function(){return this._positioners.pixel.apply(this,arguments)},px:function(){return this._positioners.pixel.apply(this,arguments)}},this._controlEvents=new i(this.namespace()),this._controlEvents.add({keydown:function(e){var i,s;-1!==[13,32].indexOf(e.which)&&(i=t(this),s=o(i.attr("data-x-role")),"continuous"!==s[2]||i.is(":disabled")||(n(i,s[0]),e.preventDefault()))},mousedown:function(e){var i,s;i=t(this),s=o(i.attr("data-x-role")),"continuous"!==s[2]||i.is(":disabled")||(n(i,s[0]),e.preventDefault())},keyup:function(n){if(a._timers.continuous=clearInterval(a._timers.continuous),!t(this).is(":disabled")&&-1!==[13,32].indexOf(n.which)){var i=o(t(this).attr("data-x-role"));e.isFunction(a._positioners[i[2]])&&a._positioners[i[2]].apply(a,i),n.preventDefault()}},mouseup:function(n){if(a._timers.continuous=clearInterval(a._timers.continuous),!t(this).is(":disabled")){var i=o(t(this).attr("data-x-role"));e.isFunction(a._positioners[i[2]])&&a._positioners[i[2]].apply(a,i),n.preventDefault()}},mouseleave:function(){a._timers.continuous=clearInterval(a._timers.continuous)},blur:function(){a._timers.continuous=clearInterval(a._timers.continuous)}}),this._wrapperEvents=new i(this.namespace()),this._wrapperEvents.add("scroll",function(){a._timers.scroll?a._timers.scroll=clearTimeout(a._timers.scroll):(a.root().removeClass(a.leftClass()+" "+a.rightClass()),a.controls().prop("disabled",!1)),a._timers.scroll=setTimeout(r,250)}),this.cropStyle(s.createStyleRule("."+this.instanceClass()+" ."+this.cropClass()+", ."+this.instanceClass()+"."+this.cropClass())),s._cache=s._cache.add(this.root()),this.root().on([this.get("initEvent"),this.get("refreshEvent"),this.get("resizeEvent")].join(" "),function(){a.updateDimensions()})}),s._cache=t(),s.define("namespace","carousel"),s.define("isScrolling",!1),s.define("visibleThreshold",.5),s.define("cropStyle"),s.defineReadOnly("resizeEvent","xooie-carousel-resize"),s.defineReadOnly("wrapperClass","xooie-carousel-wrapper"),s.defineReadOnly("cropClass","xooie-carousel-crop"),s.defineReadOnly("contentClass","xooie-carousel-content"),s.defineReadOnly("controlClass","xooie-carousel-control"),s.defineReadOnly("leftClass","is-left-limit"),s.defineReadOnly("rightClass","is-right-limit"),s.defineRole("wrapper"),s.defineRole("content"),s.defineRole("item"),s.defineRole("control"),s.createStyleRule("."+s.prototype.wrapperClass(),{position:"relative","overflow-x":"scroll","overflow-y":"hidden"}),s.createStyleRule("."+s.prototype.cropClass(),{"overflow-y":"hidden"}),s.createStyleRule("."+s.prototype.contentClass(),{display:"table-cell","white-space":"nowrap","font-size":"0px",transition:"left 0.5s"}),s.createStyleRule("ul."+s.prototype.contentClass(),{"list-style":"none",padding:0,margin:0}),s.createStyleRule("."+s.prototype.contentClass()+" > *",{display:"inline-block",zoom:"1","*display":"inline","font-size":"1em"}),s.createStyleRule("."+s.prototype.leftClass()+"."+s.prototype.rightClass()+' [data-x-role^="control:left"]'+", ."+s.prototype.leftClass()+"."+s.prototype.rightClass()+' [data-x-role^="control:right"]',{display:"none"}),s.prototype.currentItem=function(t){var e,n,i,o,s;if(e=this.contents(),n=this.items(),t){for(i=e.outerWidth(!0)+e.position().left,s=n.length-1;s>0;s-=1)if(o=n.eq(s).outerWidth(!0),i-=o,s>0&&i<=this.visibleThreshold()*o)return s;return 0}for(i=e.position().left,s=0;s<n.length-1;s++){if(o=n.eq(s).outerWidth(!0),i+this.visibleThreshold()*o>=0)return s;i+=o}return n.length-1},s.prototype.isLeft=function(){return 0===this.wrappers().scrollLeft()},s.prototype.isRight=function(){var t,n;try{if(t=this.items().filter(":visible:last"),n=t.position(),n&&!e.isUndefined(n.left))return Math.floor(n.left)+t.outerWidth(!0)<=this.wrappers().innerWidth()}catch(i){return!1}return!1},s.prototype.updateDimensions=function(){var e=0;this.items().each(function(){e=Math.max(e,t(this).outerHeight(!0))}),this.cropStyle().style.height=e+"px",this.updateLimits()},s.prototype.updateLimits=function(){var t=this.isLeft(),e=this.isRight();this.root().toggleClass(this.leftClass(),t),this.controls().filter('[data-x-role^="control:left"]').prop("disabled",t),this.root().toggleClass(this.rightClass(),e),this.controls().filter('[data-x-role^="control:right"]').prop("disabled",e)},s.prototype.scrollTo=function(t,n){var i=this;this.isScrolling&&this.wrappers().stop(!0,!0),this.isScrolling=!0,this.wrappers().animate({scrollLeft:t},200,function(){i.isScrolling=!1,e.isFunction(n)&&n()})},s.prototype._process_role_content=function(t){return t.addClass(this.contentClass()),t.is("ul,ol")||t.attr("role","list"),t},s.prototype._render_role_wrapper=function(){var e=t('<div data-x-role="wrapper" />');return this.contents().wrap(e),this.contents().parent()},s.prototype._process_role_wrapper=function(t){return t.addClass(this.wrapperClass()).on(this._wrapperEvents.handlers).parent().addClass(this.cropClass()),t},s.prototype._get_role_item=function(){return this.contents().children()},s.prototype._get_role_control=function(){return this.root().find('[data-x-role^="control"]')},s.prototype._process_role_control=function(t){return t.on(this._controlEvents.handlers),t.attr("aria-hidden",!0).addClass(this.controlClass()),t},s.prototype._process_resizeEvent=function(t){return""===this.namespace()?t:t+"."+this.namespace()},s}),/*
*   Copyright 2012 Comcast
*
*   Licensed under the Apache License, Version 2.0 (the "License");
*   you may not use this file except in compliance with the License.
*   You may obtain a copy of the License at
*
*       http://www.apache.org/licenses/LICENSE-2.0
*
*   Unless required by applicable law or agreed to in writing, software
*   distributed under the License is distributed on an "AS IS" BASIS,
*   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
*   See the License for the specific language governing permissions and
*   limitations under the License.
*/
define("xooie/widgets/dropdown",["jquery","xooie/widgets/base"],function(t,e){var n=function(t){return"string"==typeof t?(t=t.split(","),t.map(function(t){return parseInt(t,10)})):"number"==typeof t?[t]:t},i=e.extend(function(){var e=this,n=e.getHandle(),i=e.getExpander();this.handlers={off:function(n){return"undefined"!=typeof n.data.not&&(t(n.data.not).is(t(this))||t(n.target).parents(n.data.not).length>0)||"undefined"!=typeof n.data.which&&-1===n.data.which.indexOf(n.which)||(t(n.target).is(e.getExpander(n.data.index))||t(n.target).parents(e.dropdownExpanderSelector()).length>0)&&!t(n.target).is(t(this))?!0:(n.preventDefault(),e.collapse(n.data.index,n.data),void 0)},on:function(n){var i=n.data.index||parseInt(t(this).attr("data-dropdown-index"),10);return n.data.delay,t(this),"undefined"!=typeof n.data.not&&(t(n.data.not).is(t(this))||t(n.target).parents(n.data.not).length>0)||"undefined"!=typeof n.data.which&&-1===n.data.which.indexOf(n.which)?!0:(n.preventDefault(),e.expand(i,n.data),void 0)}},this.timers={expand:[],collapse:[],throttle:[]},this.addHandlers("on"),this.root().on({dropdownExpand:function(n,i){e.removeHandlers("on",i),e.addHandlers("off",i),t(this).attr("aria-selected",!0),e.getExpander(i).attr("aria-hidden",!1)},dropdownCollapse:function(n,i){e.removeHandlers("off",i),e.addHandlers("on",i),t(this).attr("aria-selected",!1),e.getExpander(i).attr("aria-hidden",!0)}},this.dropdownHandleSelector()),this.root().on("xooie-init.dropdown xooie-refresh.dropdown",function(){n.each(function(e){var n=t(this),o=i.eq(e);n.attr({"data-dropdown-index":e,"aria-selected":!1}),o.attr({"data-dropdown-index":e,"aria-hidden":!0})})}),i.on("mouseover focus",function(){var n=parseInt(t(this).attr("data-dropdown-index"),10);e.timers.collapse[n]&&(e.timers.collapse[n]=clearTimeout(e.timers.collapse[n]),t(this).on("mouseleave blur",{index:n},function(n){e.collapse(n.data.index,0),t(this).unbind(n)}))})});return i.define("namespace","dropdown"),i.define("throttleDelay",300),i.define("triggers",{on:{focus:{delay:0}},off:{blur:{delay:0}}}),i.defineReadOnly("dropdownHandleSelector",'[data-role="dropdown-handle"]'),i.defineReadOnly("dropdownExpanderSelector",'[data-role="dropdown-content"]'),i.defineReadOnly("activeDropdownClass","is-dropdown-active"),i.prototype.getTriggerHandle=function(e,n){var i=this.getHandle(n);return e.selector?"document"===e.selector?t(document):t(e.selector):i},i.prototype.addHandlers=function(e,i){var o,s,r,a;r=this.triggers()[e];for(o in r)"undefined"!=typeof r[o].which&&(r[o].which=n(r[o].which)),a=[o,e,"count"].join("-"),s=this.getTriggerHandle(r[o],i),s.data(a,s.data(a)+1||1),s.on(o,t.extend({delay:0,index:i},r[o]),this.handlers[e])},i.prototype.removeHandlers=function(t,e){var n,i,o,s,r;o=this.triggers()[t];for(n in o)i=this.getTriggerHandle(o[n],e),s=[n,t,"count"].join("-"),r=i.data(s)-1,0>=r?(i.unbind(n,this.handlers[t]),i.data(s,0)):i.data(s,r)},i.prototype.getHandle=function(t){var e=this.root().find(this.dropdownHandleSelector());return"undefined"!=typeof t&&t>=0?e.eq(t):e},i.prototype.getExpander=function(t){var e;return e="undefined"==typeof t||isNaN(t)?this.dropdownExpanderSelector():this.dropdownExpanderSelector()+'[data-dropdown-index="'+t+'"]',this.root().find(e)},i.prototype.setState=function(t,e,n){if("undefined"!=typeof t&&!isNaN(t)){var i=n?"expand":"collapse",o=n?"collapse":"expand",s=e.delay;this.timers[o][t]=clearTimeout(this.timers[o][t]),this.timers.throttle[t]||this.timers[i][t]||(this.timers[i][t]=setTimeout(function(t,e,n,i){var o=this.getExpander(t),s=this.getHandle(t),r=this;this.timers[e][t]=clearTimeout(this.timers[e][t]),o.toggleClass(this.activeDropdownClass(),n),this.getHandle(t).toggleClass(this.activeDropdownClass(),n),n?s.trigger("dropdownExpand",[t,i]):s.trigger("dropdownCollapse",[t,i]),this.throttleDelay()>0&&(this.timers.throttle[t]=setTimeout(function(){r.timers.throttle[t]=clearTimeout(r.timers.throttle[t])},this.throttleDelay()))}.bind(this,t,i,n,e),s))}},i.prototype.expand=function(t,e){this.getHandle(t).hasClass(this.activeDropdownClass())||this.setState(t,e,!0)},i.prototype.collapse=function(t,e){this.getHandle(t).hasClass(this.activeDropdownClass())&&this.setState(t,e,!1)},i}),/*
*   Copyright 2012 Comcast
*
*   Licensed under the Apache License, Version 2.0 (the "License");
*   you may not use this file except in compliance with the License.
*   You may obtain a copy of the License at
*
*       http://www.apache.org/licenses/LICENSE-2.0
*
*   Unless required by applicable law or agreed to in writing, software
*   distributed under the License is distributed on an "AS IS" BASIS,
*   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
*   See the License for the specific language governing permissions and
*   limitations under the License.
*/
define("xooie/widgets/tab",["jquery","xooie/helpers","xooie/widgets/base","xooie/event_handler"],function(t,e,n,i){var o=n.extend(function(){var e=this;this._tabEvents=new i(this.namespace()),this._tabEvents.add({keyup:function(n){var i=e.getActiveTabs();-1===[13,32].indexOf(n.which)||i.is(this)||(e.deactivateTab(i),e.activateTab(t(this)),n.preventDefault())},mouseup:function(){var n=e.getActiveTabs();n.is(this)||(e.deactivateTab(n),e.activateTab(t(this)))}}),this.root().on(this.initEvent(),function(){e.activateTab(e.tabs().filter('[data-activate="true"]'))})});return o.define("namespace","tab"),o.define("tabSelector"),o.defineReadOnly("activeClass","is-tab-active"),o.defineRole("tabpanel"),o.defineRole("tab"),o.defineRole("tablist"),o.prototype.activateTab=function(e){e.addClass(this.activeClass()).attr("aria-selected",!0),t("#"+e.attr("aria-controls")).addClass(this.activeClass()).attr("aria-expanded",!0);var n=t.Event("xooie-tab-active");n.tabId=e.attr("id"),this.root().trigger(n)},o.prototype.deactivateTab=function(e){e.removeClass(this.activeClass()).attr("aria-selected",!1),t("#"+e.attr("aria-controls")).removeClass(this.activeClass()).attr("aria-expanded",!1);var n=t.Event("xooie-tab-inactive");n.tabId=e.attr("id"),this.root().trigger(n)},o.prototype.getActiveTabs=function(){return this.tabs().filter("."+this.activeClass())},o.prototype._process_role_tab=function(e){var n=this.tabpanels();return e.attr("role","tab").attr("aria-selected",!1),e.each(function(e){t(this).attr("aria-controls",n.eq(e).attr("id"))}),e.on(this._tabEvents.handlers),e},o.prototype._get_role_tab=function(){return e.isUndefined(this.tabSelector())?this.root().find('[data-x-role="tab"]'):t(this.tabSelector())},o.prototype._render_role_tab=function(){},o.prototype._process_role_tablist=function(e){var n=this.tabs();return e.attr("role","tablist"),n.each(function(){var n,i;0===e.has(this).length&&(n=e.attr("aria-owns")||"",n=n.split(" "),i=t(this).attr("id"),-1===n.indexOf(i)&&n.push(i),e.attr("aria-owns",n.join(" ")))}),e},o.prototype._render_role_tablist=function(){},o.prototype._process_role_tabpanel=function(t){return t.attr("role","tabpanel").attr("aria-expanded",!1),t},o}),/*
*   Copyright 2012 Comcast
*
*   Licensed under the Apache License, Version 2.0 (the "License");
*   you may not use this file except in compliance with the License.
*   You may obtain a copy of the License at
*
*       http://www.apache.org/licenses/LICENSE-2.0
*
*   Unless required by applicable law or agreed to in writing, software
*   distributed under the License is distributed on an "AS IS" BASIS,
*   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
*   See the License for the specific language governing permissions and
*   limitations under the License.
*/
define("xooie/dialog",["jquery","xooie/base"],function(t,e){var n=e("dialog",function(){var t=this;this.id=n._counter++,n._instances[this.id]=this,this.root.attr("data-dialog-id",this.id),this.root.find(this.options.containerSelector).attr("role","dialog"),this.root.addClass("xooie-dialog"),this.handlers={mouseup:function(){n.close(t.id)},keyup:function(e){-1!==[13,32].indexOf(e.which)&&n.close(t.id)}}});return n.setDefaultOptions({closeButtonSelector:'[data-role="closeButton"]',containerSelector:'[data-role="container"]',dialogActiveClass:"is-dialog-active"}),n.setCSSRules({".xooie-dialog":{position:"fixed",top:0,bottom:0,left:0,right:0}}),n.prototype.activate=function(){this.root.addClass(this.options.dialogActiveClass),n._active!==this&&(n._active&&n._active.deactivate(),this.root.find(this.options.closeButtonSelector).on(this.handlers),n._active=this,this.root.trigger("dialogActive"))},n.prototype.deactivate=function(){this.root.removeClass(this.options.dialogActiveClass),n._active===this&&(this.root.find(this.options.closeButtonSelector).off(this.handlers),n._active=null,this.root.trigger("dialogInactive"))},n._instances=[],n._counter=0,n._active=null,n._queue=[],n.open=function(t){var e=this._instances[t];"undefined"!=typeof e&&this._active!==e&&(this._active?this._queue.push(e):e.activate())},n.close=function(){this._active&&(this._active.deactivate(),this._queue.length>0&&this._queue.pop().activate())},n}),define("xooie/widgets/dialog",function(){}),/*
*   Copyright 2012 Comcast
*
*   Licensed under the Apache License, Version 2.0 (the "License");
*   you may not use this file except in compliance with the License.
*   You may obtain a copy of the License at
*
*       http://www.apache.org/licenses/LICENSE-2.0
*
*   Unless required by applicable law or agreed to in writing, software
*   distributed under the License is distributed on an "AS IS" BASIS,
*   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
*   See the License for the specific language governing permissions and
*   limitations under the License.
*/
define("xooie/addons/base",["jquery","xooie/shared"],function(t,e){var n=function(t){var e=this;if("undefined"==typeof t)return!1;if(t.addons()&&t.addons().hasOwnProperty(this.name()))return t.addons()[this.name()];t.addons()[this.name()]=this,t.root().addClass(this.addonClass()),this.widget(t);var n=function(){!e._extendCount||e._extendCount<=0?(e.widget().root().trigger(e.get("initEvent")),e._extendCount=null):setTimeout(n,0)};this._extendCount>0?setTimeout(n,0):n()};return n.defineReadOnly=function(t,n){e.defineReadOnly(this,t,n)},n.defineWriteOnly=function(t){e.defineWriteOnly(this,t)},n.define=function(t,e){this.defineReadOnly(t,e),this.defineWriteOnly(t)},n.extend=function(t){return e.extend(t,this)},n.prototype._definedProps=[],n.prototype._extendCount=null,n.define("widget"),n.define("name","addon"),n.defineReadOnly("initEvent","xooie-addon-init"),n.defineReadOnly("addonClass","has-addon"),n.prototype.get=function(t){return e.get(this,t)},n.prototype.set=function(t,n){return e.set(this,t,n)},n.prototype.cleanup=function(){this.widget().root().removeClass(this.addonClass())},n.prototype._process_initEvent=function(t){return"addon"===this.name()?t:t+"."+this.name()},n.prototype._process_addonClass=function(t){return"addon"===this.name()?t:"has-"+this.name()+"-addon"},n}),/*
*   Copyright 2012 Comcast
*
*   Licensed under the Apache License, Version 2.0 (the "License");
*   you may not use this file except in compliance with the License.
*   You may obtain a copy of the License at
*
*       http://www.apache.org/licenses/LICENSE-2.0
*
*   Unless required by applicable law or agreed to in writing, software
*   distributed under the License is distributed on an "AS IS" BASIS,
*   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
*   See the License for the specific language governing permissions and
*   limitations under the License.
*/
define("xooie/addons/carousel_lentils",["jquery","xooie/addons/base"],function(t,e){var n=e("lentils",function(){var t=this;this.lentilBuilders={item:function(e,n){var i,o,s=t.module.content.children();for(o=0;o<s.length;o+=1)i=t.module.render(n,{number:o+1,scroll_mode:"item",lentil_is_last:o===s.length-1}),e.append(i)},page:function(e,n){if("undefined"!=typeof t.module.addons.pagination){var i,o;for(o=0;o<t.module.addons.pagination._breaks.length;o+=1)i=t.module.render(n,{number:o+1,scroll_mode:"page",lentil_is_last:o===t.module.addons.pagination._breaks.length-1}),e.append(i)}}},this.module.root.addClass("is-carousel-lentiled"),this.module.root.on("carouselUpdated",function(){t.updateLentils()}),this.module.root.on("carouselScrollComplete",function(){t.currentLentil()}),this.updateLentils(),this.currentLentil()});return n.setDefaultOptions({lentilMode:"item",lentilSelector:'[data-role="carousel-lentils"]',lentilTemplateSelector:'[data-role="carousel-lentils-template"]',activeLentilClass:"is-active-lentil"}),n.prototype.currentLentil=function(){var t,e=this.module.root.find(this.options.lentilSelector),n=e.children();t="page"===this.options.lentilMode&&"undefined"!=typeof this.module.addons.pagination?this.module.addons.pagination.currentPage():this.module.currentItem(),n.filter("."+this.options.activeLentilClass).removeClass(this.options.activeLentilClass),n.eq(t).addClass(this.options.activeLentilClass)},n.prototype.updateLentils=function(){var e=this.module.root.find(this.options.lentilSelector),n=this.module.root.find(this.options.lentilTemplateSelector),i=this;e.length>0&&n.length>0&&(e.html(""),"function"==typeof this.lentilBuilders[this.options.lentilMode]&&(this.lentilBuilders[this.options.lentilMode](e,n),e.children().on("click",function(e){e.preventDefault(),i.module.updatePosition(t(this).data("scroll"))}),this.currentLentil()))},n}),/*
*   Copyright 2012 Comcast
*
*   Licensed under the Apache License, Version 2.0 (the "License");
*   you may not use this file except in compliance with the License.
*   You may obtain a copy of the License at
*
*       http://www.apache.org/licenses/LICENSE-2.0
*
*   Unless required by applicable law or agreed to in writing, software
*   distributed under the License is distributed on an "AS IS" BASIS,
*   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
*   See the License for the specific language governing permissions and
*   limitations under the License.
*/
define("xooie/addons/carousel_pagination",["jquery","xooie/addons/base"],function(t,e){var n=e("pagination",function(){var e=this;this._breaks=[],this.module.positionUpdaters=t.extend({},this.module.positionUpdaters,{page:function(t,n){var i,o=e.module.content.children(),s=1,r=0,a=e.module.wrapper.scrollLeft();return"undefined"==typeof n?t>0&&t<=e._breaks.length&&(r=Math.round(o.eq(e._breaks[t-1]).position().left)):(n=-1===n?-1:1,s=-n,t&&"number"==typeof t||(t=1),i=e.currentPage(s)+n*t,i=Math.max(0,Math.min(e._breaks.length-1,i)),r=Math.round(o.eq(e._breaks[i]).position().left)),a+r}}),this.module.snapMethods=t.extend({},this.module.snapMethods,{page:function(){var t,n,i,o=e.module.content.children(),s=e.currentPage();n=o.eq(e._breaks[s]).position().left,n=Math.abs(n)<1?0>n?Math.ceil(n):Math.floor(n):Math.round(n),0!==n&&s>0&&(i=o.eq(e._breaks[s-1]).position().left,i=Math.abs(i)<1?0>i?Math.ceil(i):Math.floor(i):Math.round(i),t=Math.abs(n)<Math.abs(i)?n+e.module.wrapper.scrollLeft():i+e.module.wrapper.scrollLeft(),e.module.wrapper.animate({scrollLeft:t}))}}),this.module.displayMethods=t.extend({},this.module.displayMethods,{page:function(t,n){var i=e.module.render(n,{current_page:e.currentPage()+1,total_pages:e._breaks.length});t.append(i)}}),this.module.root.on("carouselUpdated",function(){e.updateBreaks()}),this.updateBreaks()});return n.prototype.currentPage=function(t){var e,n,i,o,s,r=this.module.content.children();if("undefined"==typeof t&&(t=1),1===t){for(i=this.module.content.position().left,e=0;e<this._breaks.length;e+=1){for(o=0,s=e===this._breaks.length-1?r.length:this._breaks[e+1],n=this._breaks[e];s>n;n+=1)o+=r.eq(n).outerWidth(!0);if(i+this.module.options.visibleThreshold*o>=0)return e;i+=o}return r.length-1}for(i=this.module.content.outerWidth(!0)+this.module.content.position().left,e=this._breaks.length-1;e>=0;e--){for(o=0,s=e===this._breaks.length-1?r.length:this._breaks[e+1],n=this._breaks[e];s>n;n+=1)o+=r.eq(n).outerWidth(!0);if(i-=o,i<=this.module.options.visibleThreshold*o)return e}return 0},n.prototype.updateBreaks=function(){var e=this.module.content.children(),n=0,i=this.module.wrapper.innerWidth(),o=[0];e.each(function(e){var s=t(this),r=s.outerWidth(!0);n+=r,n>i&&n-(r-s.innerWidth())>i&&(n=r,o.push(e))}),this.module.root.toggleClass("is-carousel-paginated",o.length>1),this._breaks=o,this.module.updateDisplay()},n}),/*
*   Copyright 2012 Comcast
*
*   Licensed under the Apache License, Version 2.0 (the "License");
*   you may not use this file except in compliance with the License.
*   You may obtain a copy of the License at
*
*       http://www.apache.org/licenses/LICENSE-2.0
*
*   Unless required by applicable law or agreed to in writing, software
*   distributed under the License is distributed on an "AS IS" BASIS,
*   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
*   See the License for the specific language governing permissions and
*   limitations under the License.
*/
define("xooie/addons/tab_automation",["jquery","xooie/addons/base"],function(t,e){var n=function(t,e,n,i){var o=Math.min(t,n)-t||Math.max(e,n)-e,s=i?Math.max(Math.abs(o),1):1;return o/s},i=e("automation",function(){var t,e=this,n={};this._tabChangeTimer=0,this._canRotate=!0,t=function(t,i){var o;if(n[t]=i,i)for(o in n)i=i&&n[o];e._canRotate=i},this.module.root.on({mouseenter:function(){t("mouse",!1),e.stop()},focus:function(){t("keyboard",!1),e.stop()},mouseleave:function(){t("mouse",!0),e.start()},blur:function(){t("mouse",!0),e.start()},tabChange:function(){e.start()}}),this.module.root.find("*").on({focus:function(){t("keyboard",!1),e.stop()},blur:function(){t("keyboard",!0),e.start()}}),this.start()});return i.setDefaultOptions({direction:1,delay:1e4}),t.extend(i.prototype,{start:function(){var e=this;this._tabChangeTimer&&this.stop(),this._tabChangeTimer=setTimeout(function(){if(e.stop(),e._canRotate){if(e.outOfRange())return t(window).on("scroll",function(n){e.outOfRange()||(e.start(),t(window).off(n))}),void 0;var n;n=e.module._currentTab+e.options.direction>=e.module.getPanel().length?0:e.module._currentTab+e.options.direction<0?e.module.getPanel().length-1:e.module._currentTab+e.options.direction,e.module.switchToTab(n)}},this.options.delay)},stop:function(){this._tabChangeTimer=clearTimeout(this._tabChangeTimer)},outOfRange:function(){var e,i,o,s;return e=t(window).scrollTop(),i=e+t(window).height(),o=this.module.root.offset().top,s=o+this.module.root.outerHeight(!0),!(!n(e,i,o,!0)||!n(e,i,s,!0))}}),i}),/*
*   Copyright 2012 Comcast
*
*   Licensed under the Apache License, Version 2.0 (the "License");
*   you may not use this file except in compliance with the License.
*   You may obtain a copy of the License at
*
*       http://www.apache.org/licenses/LICENSE-2.0
*
*   Unless required by applicable law or agreed to in writing, software
*   distributed under the License is distributed on an "AS IS" BASIS,
*   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
*   See the License for the specific language governing permissions and
*   limitations under the License.
*/
define("xooie/addons/tab_animation",["jquery","xooie/addons/base"],function(t,e){var n=e("animation",function(){var e=this,n=!1,i=[],o=function(){i.length>0?i.shift()():n=!1};this.module.root.on("tabChange",function(t){i.push(function(){var n;n=e.options.wrap?0===t.toTab&&t.fromTab===e.module.getPanel().length-1?1:t.toTab===e.module.getPanel().length-1&&0===t.fromTab?-1:t.toTab>t.fromTab?1:-1:t.toTab>t.fromTab?1:-1,e.animateToTab(t.toTab,t.fromTab,n,o)}),n||(n=!0,o())});var s=function(n,i){return function(o){n.animate(i,{duration:e.options.duration,easing:e.options.easing,complete:function(){t(this).attr("style",""),o()}})}};this.animationMethods={horizontal:function(t,e,n,i){var o=[];return n.css({overflow:"hidden",height:e.outerHeight(),width:n.width()}),e.css({display:"block",position:"absolute",top:0,left:0,width:e.width(),height:e.height()}),t.css({display:"block",position:"absolute",top:0,left:-1===i?-n.innerWidth():n.innerWidth(),width:t.width(),height:t.height()}),o.push(s(e,{left:-1===i?n.innerWidth():-n.innerWidth()}),s(t,{left:0}),s(n,{height:t.outerHeight()})),o},vertical:function(t,e,n,i){var o=[];return n.css({overflow:"hidden",height:e.outerHeight(),width:n.width()}),e.css({display:"block",position:"absolute",top:0,left:0,width:e.width(),height:e.height()}),t.css({display:"block",position:"absolute",top:-1===i?-n.innerHeight():n.innerHeight(),left:0,width:t.width(),height:t.height()}),o.push(s(e,{top:-1===i?n.innerHeight():-n.innerHeight()}),s(t,{top:0}),s(n,{height:t.outerHeight()})),o},fade:function(t,e,n){var i=[];return n.css({overflow:"hidden",height:e.outerHeight(),width:n.width()}),e.css({display:"block",position:"absolute",opacity:1,top:0,left:0,width:e.width(),height:e.height()}),t.css({display:"block",position:"absolute",opacity:0,top:0,left:0,width:t.width(),height:t.height()}),i.push(s(e,{opacity:0}),s(t,{opacity:1}),s(n,{height:t.outerHeight()})),i}}});return n.setDefaultOptions({panelContainerSelector:'[data-role="panel-container"]',animationMode:"horizontal",easing:"linear",duration:500,wrap:!1}),t.extend(n.prototype,{animateToTab:function(t,e,n,i){if(!(t===e||0>t||t>=this.module.getPanel().length)){var o,s,r=this.module.getPanel(e),a=this.module.getPanel(t),d=r.parents(this.options.panelContainerSelector),l=1,u=function(){l--,0===l&&i&&i()};if("function"==typeof this.animationMethods[this.options.animationMode]){for(o=this.animationMethods[this.options.animationMode](a,r,d,n),s=0;s<o.length;s++)l++,o[s](u);u()}}}}),n});